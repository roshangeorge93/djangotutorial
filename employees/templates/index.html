
{% load static%}
<html>
    <head>
        <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
        crossorigin="anonymous"
      />
      <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"
      ></script>
      <link rel="stylesheet" href="{% static 'css/index.css' %}">
      
    </head>
    <body>
        <form method="GET">
            <div class="container mt-4">
                <h1 class="text-center" style="padding-top: 0%; width: 100%">
                  Employee Table
                </h1>
                {% if employee_list is not null %}
                <div class="row mb-4">
                  <div class="col-md-3">
                   
                    <label for="employee_name" class="form-label">Employee Name</label>
                    <select name="name" id="employee_name" class="form-select mt-2" onchange="this.form.submit()">
                        <option value="">All</option>
                        {% for name in all_names %}
                            <option value="{{ name }}" {% if selected_name == name %}selected{% endif %}>{{ name }}</option>
                        {% endfor %}
                    </select>
                    
                  </div>
          
                  <div class="col-md-3">
                   
                    <label for="designation" class="form-label">Designation</label>
                    <select name="designation" id="designation" class="form-select mt-2" onchange="this.form.submit()">
                        <option value="">All</option>
                        {% for designation in all_designations %}
                            <option value="{{ designation }}" {% if selected_designation == designation %}selected{% endif %}>{{ designation }}</option>
                        {% endfor %}
                    </select>
                  </div>
          
                  <div class="col-md-2">
                  
                    <label for="address" class="form-label">Address</label>
                    <select name="address" id="address" class="form-select mt-2" onchange="this.form.submit()">
                        <option value="">All</option>
                        {% for address in all_addresses %}
                            <option value="{{ address }}" {% if selected_address == address %}selected{% endif %}>{{ address }}</option>
                        {% endfor %}
                    </select>
                  </div>
          
                 
          
                  <div class="col-md-2">
                  
                    <label for="email" class="form-label">Email</label>
                    <select name="email" id="email" class="form-select mt-2" onchange="this.form.submit()">
                        <option value="">All</option>
                        {% for email in all_emails %}
                            <option value="{{ email }}" {% if selected_email == email %}selected{% endif %}>{{ email }}</option>
                        {% endfor %}
                    </select>
                  
                  </div>
                  <div class="col-md-2" >
               
                    <a href="{% url 'employee_list' %}" class="btn btn-secondary" style="margin-top: 45px;width:200px">Reset</a>
                </div>
                  
                </div>
            </div>
        </form>
        
        
        <div style="margin-left: 50; margin-right: 50;">
            
        

            <table class="table" >
                <thead class="thead-dark" style="border: solid">
                    <tr>
                        <th scope="col" style="background-color: bisque;">Employee Photo</th>
                        <th scope="col" style="background-color: bisque;">Employee Name</th>
                        <th scope="col" style="background-color: bisque;">Designation</th>
                        <th scope="col" style="background-color: bisque;">Salary</th>
                        <th scope="col" style="background-color: bisque;">Address</th>
                        <th scope="col" style="background-color: bisque;">Experience</th>
                        <th scope="col" style="background-color: bisque;">Email</th>
                    </tr>
                </thead>
                
                <tbody>
                    {% if employee_list %}
                    {% for emp in employee_list %}
                   
                    <tr>
                        
                        <td scope="row">
                            <img src="{% static 'images/' %}{{ emp.photo }}" class="profile-img" width="200" height="200" />
                        </td>
                        <td scope="row"><a href="{{ emp.id }}/">{{ emp.Name }}</a></td>
                        <td>{{ emp.Designation }}</td>
                        <td>{{ emp.Salary }}</td>
                        <td>{{ emp.department.l.l_country }}</td>
                        <td>{{ emp.Experience }}</td>
                        <td>{{ emp.Email }}</td>
                    </tr>
                  
                    {% endfor %}
                    {% else %}
                    <tr ><td colspan="7" >No Records</td>
                      
                    
                    {% endif %}
                   
        {% endif %}
                </tbody>
            </table>
          
        </div>
        
    </body>
</html>



  
